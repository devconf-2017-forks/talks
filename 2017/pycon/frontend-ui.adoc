## Frontend - UI

Create our application frontend using following command:

[source]
----
oc new-app \
    soltysh/lighttpd-centos7~https://github.com/soltysh/blast.git \
    --context-dir=ui \
    --name=ui \
    --labels=app=ui
----

This will result in OpenShift creating the following resources for us:

:linkattrs:

- link:https://docs.openshift.org/latest/dev_guide/builds/index.html[build configuration, window="_blank"]
- link:https://docs.openshift.org/latest/dev_guide/deployments/how_deployments_work.html[deployment configuration]
- link:https://docs.openshift.org/latest/dev_guide/managing_images.html)[image streams]
- link:https://docs.openshift.org/latest/architecture/core_concepts/pods_and_services.html[service]

** Explain BuildConfig ** (explain S2I build process in details)

** Explain DeploymentConfig ** (including colorful deployments demos: https://opensource.com/article/17/5/colorful-deployments)
** Explain ReplicationController **
** Explain Pod **

** Explain ImageStreams ** (intro to image streams, including: https://blog.openshift.com/image-streams-faq/)

** Explain Service **

### Probes

After a few minutes, our application should be up and ready, but we want
the platform to monitor for its link:https://docs.openshift.org/latest/dev_guide/application_health.html[liveness and readiness]. Liveness - verifies the pod is healthy, iow. running, when this fails
the scheduler will restart the container. Readiness on the other hand, goes
one step further, and checks whether your application is ready to accept
requests, iow. when it can accept traffic. Actually, the web console will
suggest you that you should add those checks:

image::health_warning.png[Health Warning]

To set both probes for our newly created application we'll do:

[source]
----
oc set probe dc/ui --liveness --open-tcp=8080
----

image::liveness_probe.png[Liveness Probe]

To verify our the server is up and running.

[source]
----
oc set probe dc/ui --readiness --get-url=http://:8080/
----

image::readiness_probe.png[Readiness Probe]

To verify that the server is returning some content on /.

### Routes

Our final step is to expose the application to the outside world, to do
that we'll use the following command:

[source]
----
oc expose svc/ui
----

image:route.png[Route]

By now we should be able to reach our application, you can see the route
address with:

[source]
----
oc get route/ui
----

Or check the overview page in the web console.
